<apex:page controller="FIVCReportVfController" applyHtmlTag="false" sidebar="false" showHeader="false" cache="true" renderAs="pdf">

    <head>
        <!--meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /-->
        <style type="text/css" media="print">
            @page {
                margin-top: 0.2in;
                margin-right: 0.2in;
                margin-left: 0.3in;
            }

            .tabledata {
                font-size: 11px;
                border: 0.9px solid black;
                border-collapse: collapse;
            }

            .img-size {
                /* width: -webkit-fill-available; */
                width: 90%;
                height: auto;
            }

            table {
                page-break-inside: auto
            }

            tr {
                page-break-inside: avoid;
                page-break-after: auto
            }

            thead {
                display: table-header-group
            }

            tfoot {
                display: table-footer-group
            }
        </style>
    </head>
    <apex:form >
        <center>
            <apex:image value="{!$Resource.FiveStarLogo}" width="200px" height="60px" />
        </center>

        <p style="font-size:10px;text-align:center;margin-top:20px;">
            Field Inspection Report Generated by VINOTHKUMAR FC on Mon Feb 25 07:50:32 IST 2019
        </p>
        <br/>
        <h5 style="text-align:center">
            Application Details
        </h5>
        <table class="tabledata" width="100%" cellpadding="4">
            <tr>
                <th class="tabledata"> Application number</th>
                <th class="tabledata"> Branch Name</th>
                <th class="tabledata"> Loan Amount Requested</th>
                <th class="tabledata"> Loan Purpose</th>
            </tr>
            <tr>
                <td class="tabledata">{!verificationObj.Application__r.Name}</td>
                <td class="tabledata"> {!verificationObj.Application__r.Branch__c}</td>
                <td class="tabledata">{!verificationObj.Application__r.Requested_Loan_Amount__c} </td>
                <td class="tabledata"> Business Development</td>
            </tr>
        </table>

        <h5 style="text-align:center">
            Applicant Details
        </h5>
        <table class="tabledata" width="100%" cellpadding="4">
            <tr>
                <th class="tabledata"> Applicant Name</th>
                <th class="tabledata"> Contact Number</th>
            </tr>
            <apex:repeat value="{!applicants}" var="applicant" id="theRepeat1">
                <tr>
                    <td class="tabledata"> {!applicant.Customer_Information__r.Name}</td>
                    <td class="tabledata"> {!applicant.Mobile__c}</td>
                </tr>
            </apex:repeat>
        </table>
        <hr width="100%" style="height:4px;border:none;color:#333;background-color:#333;" />
        <br/>


        <h5 style="text-align:center;margin-top:-2px;">
            Family Details
        </h5>
        <table class="tabledata" width="100%" cellpadding="4">
            <tr>
                <!-- <th class="tabledata"> S.No.</th> -->
                <th class="tabledata"> Name</th>
                <th class="tabledata"> Applicant Type</th>
                <th class="tabledata"> Relationship</th>
                <th class="tabledata"> Living with Applicant</th>
                <th class="tabledata"> Remarks</th>
            </tr>
            <apex:repeat value="{!familyList}" var="familyMember" id="theRepeat2">
                <tr>
                    <!-- <td class="tabledata"> 1</td> -->
                    <td class="tabledata"> {!familyMember.Family_Member_Name__c}</td>
                    <td class="tabledata"> {!familyMember.Customer_Type__c}</td>
                    <td class="tabledata"> {!familyMember.Relationship__c}</td>
                    <td class="tabledata"> {!familyMember.Living_with_Applicant__c}</td>
                    <td class="tabledata"> {!familyMember.Overall_Remarks__c}</td>
                </tr>
            </apex:repeat>
            <!-- <tr>
                <td class="tabledata"> </td>
                <td class="tabledata"> Remarks</td>
                <td class="tabledata" colspan="4"> Applicant ravi unmarried he have elder brother ramesh maana telangana press reporter living separately. Applicant
                    ravi and his father shankar wo vijaya living together</td>
            </tr> -->
        </table>
        <hr width="100%" style="height:4px;border:none;color:#333;background-color:#333;" />
        <br/>


        <h5 style="text-align:center;margin-top:-2px;">
            Character
        </h5>
        <table class="tabledata" width="100%" cellpadding="4">
            <tr>
                <th class="tabledata"> Neighbour Name</th>
                <th class="tabledata"> Neighbour Contact Number</th>
                <th class="tabledata"> Feedback</th>
                <th class="tabledata"> Remarks</th>
            </tr>
            <apex:repeat value="{!neighbourList}" var="neighbour" id="theRepeat3">
                <tr>
                    <td class="tabledata"> {!neighbour.Neighbour_Name__c}</td>
                    <td class="tabledata"> {!neighbour.Neighbour_Number__c}</td>
                    <td class="tabledata"> {!neighbour.FeedBack__c}</td>
                    <td class="tabledata"> {!neighbour.Remarks__c}</td>
                </tr>
            </apex:repeat>
        </table>
        <hr width="100%" style="height:4px;border:none;color:#333;background-color:#333;" />
        <br/>


        <h5 style="text-align:center;margin-top:-2px;">
            Affiliations
        </h5>
        <table class="tabledata" width="100%" cellpadding="4">
            <tr>
                <th class="tabledata"> Applicant Type</th>
                <th class="tabledata"> Name</th>
                <th class="tabledata"> Affiliation with</th>
                <th class="tabledata"> Remarks</th>
            </tr>
            <apex:repeat value="{!affiliationList}" var="affiliation" id="theRepeat4">
                <!-- <apex:outputPanel rendered="{!(affiliation.Is_Involved__c == 'Yes')}"> -->
                    <tr style="{!IF( affiliation.Is_Involved__c == 'No', 'display:none', '')}">
                        <td class="tabledata"> {!affiliation.Applicant_Type__c}</td>
                        <td class="tabledata"> {!affiliation.Affiliation_Name__c} </td>
                        <td class="tabledata"> {!affiliation.Affiliation_with__c}</td>
                        <td class="tabledata"> {!affiliation.Remarks__c}</td>
                    </tr>
                <!-- </apex:outputPanel> -->
            </apex:repeat>
        </table>
        <hr width="100%" style="height:4px;border:none;color:#333;background-color:#333;" />
        <br/>

        <h5 style="text-align:center;margin-top:-2px;">
            Living Standards
        </h5>
        <table class="tabledata" width="100%" cellpadding="4">
            <tr>
                <th class="tabledata"> Lifestyle (Loan Amount 0 to 2 Lakhs)</th>
                <th class="tabledata"> Lifestyle (Loan Amount >2L to 4 Lakhs)</th>
                <th class="tabledata"> Lifestyle (Loan Amount >4L to 8 Lakhs)</th>
                <th class="tabledata"> Lifestyle (Loan Amount >8Lakhs)</th>
                <th class="tabledata"> Consumer Durables</th>
                <th class="tabledata"> Remarks</th>
            </tr>
            <apex:repeat value="{!livingStandardList}" var="applicant" id="theRepeat5">
                <tr>
                    <td class="tabledata"> {!applicant.Lifestyle__c}</td>
                    <td class="tabledata"> {!applicant.Lifestyle_Loan_Amount_2L_to_4_Lakhs__c}</td>
                    <td class="tabledata"> {!applicant.Lifestyle_Loan_Amount_4L_to_8_Lakhs__c}</td>
                    <td class="tabledata"> {!applicant.Lifestyle_Loan_Amount_8Lakhs__c}</td>
                    <td class="tabledata"> {!applicant.Consumer_Durables__c}</td>
                    <td class="tabledata"> {!applicant.Living_Standard_Remarks__c}</td>
                </tr>
            </apex:repeat>
        </table>

        <hr width="100%" style="height:4px;border:none;color:#333;background-color:#333;" />
        <br/>

        <h5 style="text-align:center;margin-top:-2px;">
            Repayment Behaviour:
        </h5>
        <table class="tabledata" width="100%" cellpadding="4">
            <tr>
                <th class="tabledata"> Particulars</th>
                <th class="tabledata"> Remarks</th>
            </tr>
            <!-- <apex:repeat value="{!applicantList}" var="applicant" id="theRepeat6">
               <tr>
                    <td class="tabledata">{!applicant.Obligations__c}</td>
                    <td class="tabledata">{!applicant.Repayment_Behaviour_Remarks__c}</td>
                </tr>
            </apex:repeat>-->
        </table>
        <hr width="100%" style="height:4px;border:none;color:#333;background-color:#333;" />
        <br/>

        <h5 style="text-align:center;margin-top:-2px;">
            Capability
        </h5>

        <apex:repeat value="{!capabilities}" var="cap" id="theRepeat8">
            <p style="font-size:12px;text-align:center">
                Capability of {!cap.Loan_Applicant__r.Customer_Information__r.Name}
            </p>
            <h5 style="text-align:center;">
                {!cap.Income_segment__c}
            </h5>

            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata"> Particulars</th>
                    <th class="tabledata"> Remarks</th>
                    <th class="tabledata"> Particulars</th>
                    <th class="tabledata"> Remarks</th>
                    <th class="tabledata"> Particulars</th>
                    <th class="tabledata"> Remarks</th>
                </tr>
                <tr>
                    <td class="tabledata"> Nature of Occupation</td>
                    <td class="tabledata"> {!cap.Income_segment__c}</td>
                    <td class="tabledata"> Years of Occupation</td>
                    <td class="tabledata"> {!cap.Year_of_Occupation__c}</td>
                    <td class="tabledata"> Proof</td>
                    <td class="tabledata"> {!cap.Proof__c}</td>
                </tr>
                <tr>
                    <td class="tabledata"> Proof remarks</td>
                    <td class="tabledata"> {!cap.Proof_Remarks__c}</td>
                    <td class="tabledata"> Other Confirmation</td>
                    <td class="tabledata"> {!cap.Other_Confirmations__c}</td>
                    <td class="tabledata"> Income per month</td>
                    <td class="tabledata"> {!cap.Income_per_month__c}</td>
                </tr>
                <tr>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> Income Remarks</td>
                    <td class="tabledata" colspan="5" style="border-bottom:1.5px solid;"> {!cap.Income_Remarks__c}</td>
                </tr>
                <tr>
                    <td class="tabledata" colspan="6" style="border-bottom:1.5px solid;"> Reference</td>
                </tr>
            </table>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata"> Business Reference Name</th>
                    <th class="tabledata"> Business Reference Contact Number</th>
                    <th class="tabledata"> Business Reference Remarks</th>
                    <th class="tabledata"> Feedback</th>
                </tr>
                <tr>
                    <td class="tabledata">
                        {!cap.Business_Reference_Name__c}
                    </td>
                    <td class="tabledata">
                        {!cap.Business_Reference_Contact_Number__c}
                    </td>
                    <td class="tabledata">
                        {!cap.Business_Reference_Remarks__c}
                    </td>
                    <td class="tabledata">
                        {!cap.Feedback__c}
                    </td>
                </tr>
            </table>
        </apex:repeat>

        <h5 style="text-align:center;">
            Income Summary
        </h5>
        <table class="tabledata" width="20%" cellpadding="4" style="margin-left:auto;margin-right:auto">
            <tr>
                <td class="tabledata"> Name</td>
                <td class="tabledata">Amount </td>
            </tr>
            <apex:repeat value="{!incomeDetails}" var="incDet" id="theRepeat9">
                <tr>
                    <td class="tabledata"> {!incDet.applicantName}</td>
                    <td class="tabledata"> {!incDet.incomePerMonth}</td>
                </tr>
            </apex:repeat>
            <tr>
                <td class="tabledata"> Total Income</td>
                <td class="tabledata">{!totalMonthlyIncome}</td>
            </tr>
            <tr>
                <td class="tabledata"> Obligations</td>
                <td class="tabledata">{!allObligations}</td>
            </tr>
            <tr>
                <td class="tabledata"> Net Income</td>
                <td class="tabledata">{!netMonthlyIncome}</td>
            </tr>
        </table>
        <h5 style="text-align:center;">
            Obligation Remarks:
            <font style="font-weight:normal"> No</font>
        </h5>
        <hr width="100%" style="height:4px;border:none;color:#333;background-color:#333;" />
        <br/>

        <apex:repeat value="{!propertyList}" var="pro" id="theRepeat7">
            <h5 style="text-align:center;margin-top:-2.5px;">
                Collateral Details-{!pro.Name}
            </h5>
            <h5 style="text-align:center;margin-top:-2.5px;">
                1: Property Details
            </h5>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata"> Particulars</th>
                    <th class="tabledata"> Remarks</th>
                    <th class="tabledata"> Particulars</th>
                    <th class="tabledata"> Remarks</th>
                    <th class="tabledata"> Particulars</th>
                    <th class="tabledata"> Remarks</th>
                </tr>
                <tr>
                    <td class="tabledata"> Original Mortgage Document</td>
                    <td class="tabledata"> {!pro.Original_Mortgage_Document__c}</td>
                    <td class="tabledata">Title Deed number</td>
                    <td class="tabledata"> {!pro.Title_Deed_Number__c}</td>
                    <td class="tabledata"> Document Type</td>
                    <td class="tabledata"> {!pro.Document_Type__c}</td>
                </tr>
                <tr>
                    <td class="tabledata"> Title Deed Month and Year</td>
                    <td class="tabledata"> {!pro.Month__c}/{!pro.Title_Deed_Year__c}</td>
                    <td class="tabledata"> Distance from branch</td>
                    <td class="tabledata"> {!pro.Mortgage_property_distance_from_branch__c}</td>
                    <td class="tabledata">Landmark</td>
                    <td class="tabledata"> {!pro.landmark__c}</td>
                </tr>
                <tr>
                    <td class="tabledata"> Overall remarks</td>
                    <td class="tabledata" colspan="5"> {!pro.Overall_Remarks__c}</td>
                </tr>
            </table>

            <h5 style="text-align:center; ">
                2: Land Area and Valuation
            </h5>
            <p style="font-size:12px;text-align:center">
                2.1: Property Location
            </p>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <td class="tabledata"> Particulars</td>
                    <td class="tabledata"> Comments</td>
                    <td class="tabledata"> remarks</td>
                </tr>
                <tr>
                    <td class="tabledata"> Pathway available:</td>
                    <td class="tabledata"> {!pro.Pathway_Available__c}</td>
                    <td class="tabledata"> {!pro.Remarks__c}</td>
                </tr>
                <tr>
                    <td class="tabledata"> Boundaries as per document and physical inspection are same:</td>
                    <td class="tabledata"> {!pro.Boundaries_As_Per_Inspection_Are_Same__c}</td>
                    <td class="tabledata"> {!pro.Boundries_Remarks__c}</td>
                </tr>
                <tr>
                    <td class="tabledata"> Location of Mortgage Property:</td>
                    <td class="tabledata"> {!pro.Location_of_Mortgage_Property__c}</td>
                    <td class="tabledata"> {!pro.Mortgage_Property_Remarks__c}</td>
                </tr>
                <tr>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> Mortgage Property Area:</td>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> {!pro.Mortgage_Property_Area__c}</td>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> {!pro.Overall_Remarks__c}</td>
                </tr>
            </table>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata"> Particulars</th>
                    <th class="tabledata">As per 11428 (Sq.ft) </th>
                </tr>
                <tr>
                    <th class="tabledata"> North by</th>
                    <td class="tabledata">{!pro.North_By_Land_Physical__c} </td>
                </tr>
                <tr>
                    <th class="tabledata"> South by</th>
                    <td class="tabledata">{!pro.South_By_Land_Physical__c} </td>
                </tr>
                <tr>
                    <th class="tabledata">east by</th>
                    <td class="tabledata">{!pro.East_By_Land_Physical__c} </td>
                </tr>
                <tr>
                    <th class="tabledata">west by</th>
                    <td class="tabledata">{!pro.West_By_Land_Physical__c} </td>
                </tr>
                <tr>
                    <th class="tabledata">Length(ft.)</th>
                    <td class="tabledata">{!pro.Land_Measurement_Length_Sq_ft__c} </td>
                </tr>
                <tr>
                    <th class="tabledata">Width(ft.)</th>
                    <td class="tabledata">{!pro.Land_Measurement_Width_Sq_ft__c} </td>
                </tr>
                <tr>
                    <th class="tabledata">Total AREA</th>
                    <td class="tabledata">{!pro.Land_Measurement_total_area__c}</td>
                </tr>
                <tr>
                    <th class="tabledata">Remarks</th>
                    <td class="tabledata">{!pro.Remarks_land_measurements__c} </td>
                </tr>
            </table>


            <p style="font-size:12px;text-align:center">
                2.2: Enquiry and Valuation
            </p>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata">Value Enquired with</th>
                    <th class="tabledata">Contact number </th>
                    <th class="tabledata">Market Value (Rs.) </th>
                </tr>
                <apex:repeat value="{!pro.Enquiries__r}" var="eq">
                    <tr>
                        <td class="tabledata"> {!eq.Enquiry_Name__c}</td>
                        <td class="tabledata"> {!eq.Enquiry_Contact_Number__c}</td>
                        <td class="tabledata"> {!eq.Enquiry_Market_Value__c}</td>
                    </tr>
                </apex:repeat>
            </table>

            <p style="font-size:12px;text-align:center">
                2.3: Valuation
            </p>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata"> Market Value Per sqFt. (Rs.)</th>
                    <td class="tabledata">{!pro.Valuation_Market_Value_Per_SqFt__c} </td>
                </tr>
                <tr>
                    <th class="tabledata">Adopted Value Per(SqFt) (Rs.)</th>
                    <td class="tabledata">{!pro.Adopted_Value_Per_SqFt__c}</td>
                </tr>
                <tr>
                    <th class="tabledata">Final land Value (Rs.)</th>
                    <td class="tabledata">{!pro.Valuation_Final_land_value__c}</td>
                </tr>
                <tr>
                    <th class="tabledata">Remarks</th>
                    <td class="tabledata">{!pro.Valuation_Remarks__c} </td>
                </tr>
            </table>
            <h5 style="text-align:center; ">
                3: Building Area and Valuation
            </h5>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata"> Age of Building</th>
                    <th class="tabledata"> Building type</th>
                </tr>
                <tr>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> {!pro.Building_Age__c} </td>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> {!pro.Building_Type__c} </td>
                </tr>
            </table>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata"> floor</th>
                    <th class="tabledata"> length(Sqft)</th>
                    <th class="tabledata"> width(Sqft)</th>
                    <th class="tabledata"> Area Value per(Sqft)</th>
                    <th class="tabledata"> Value per Sq ft</th>
                    <th class="tabledata">Total Value (Rs.)</th>
                </tr>
                <tr>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> {!pro.floor__c}</td>
                    <td class="tabledata" style="border-bottom:1.5px solid;">
                        {!pro.lengthSq_ft__c}
                    </td>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> {!pro.widthSq_ft__c}</td>
                    <td class="tabledata" style="border-bottom:1.5px solid;">
                        {! pro.Area_value_per_Sq_ft__c}
                    </td>
                    <td class="tabledata" style="border-bottom:1.5px solid;"> {!pro.Value_per_sq_ft__c}</td>
                    <td class="tabledata" style="border-bottom:1.5px solid;">
                        {! pro.Building_area_total_value__c}
                    </td>
                </tr>
            </table>
            <table class="tabledata" width="100%" cellpadding="4">
                <tr>
                    <th class="tabledata"> Remarks</th>
                    <td class="tabledata"> {!pro.Building_Constructed_with_Remarks__c}</td>
                </tr>
            </table>
            <br/>
        </apex:repeat>

        <br/>
        <h5 style="text-align:center; ">
            Colateral Summary
        </h5>
        <table class="tabledata" width="70%" cellpadding="4" style="margin-left:auto;margin-right:auto">
            <tr>
                <th class="tabledata"> Particulars</th>
                <th class="tabledata" colspan="2"> Land</th>
                <th class="tabledata" colspan="2"> Builing</th>
                <th class="tabledata">Total Collateral Value</th>
            </tr>
            <tr>
                <th class="tabledata"> </th>
                <th class="tabledata"> Area(sq ft)</th>
                <th class="tabledata"> Value(INR)</th>
                <th class="tabledata"> Area(sq ft)</th>
                <th class="tabledata"> Value(INR)</th>
                <th class="tabledata"> </th>
            </tr>
            <apex:repeat value="{!propertyList}" var="pro" id="theRepeat17">
                <tr>
                    <td class="tabledata"> {!pro.Name}</td>
                    <td class="tabledata"> {!pro.Land_Measurement_total_area__c}</td>
                    <td class="tabledata"> {!pro.Valuation_Final_land_value__c}</td>
                    <td class="tabledata"> {!pro.Area_value_per_Sq_ft__c}</td>
                    <td class="tabledata"> {!pro.Building_area_total_value__c}</td>
                    <td class="tabledata"> {!pro.Total_Collateral_Value__c}</td>
                </tr>
            </apex:repeat>
            <tr>
                <th class="tabledata"> Total</th>
                <td class="tabledata"> </td>
                <td class="tabledata">{!totalLandValue}</td>
                <td class="tabledata"></td>
                <td class="tabledata"> {!totalBuildingValue}</td>
                <td class="tabledata"> {!totalCollateralValue}</td>
            </tr>
        </table>

        <h5 style="text-align:center; ">
            Overall Remarks
        </h5>
        <table class="tabledata" width="100%" cellpadding="4">
            <!-- <tr>
                <td class="tabledata"> I hereby declare that I am not related to any applicant or co-applicant directly or indirectly:</td>
                <td class="tabledata">{!if(verificationObj.I_hereby_declare__c = true, 'Yes','No')} </td>
            </tr>
            <tr>
                <td class="tabledata"> Summary Feedback:</td>
                <td class="tabledata">{!verificationObj.Result__c}</td>
            </tr>
            <tr>
                <td class="tabledata"> Summary remarks:</td>
                <td class="tabledata">{!verificationObj.Remarks__c}</td>
            </tr> -->
            <tr>
                <td class="tabledata"> Summary Feedback:</td>
                <td class="tabledata">{!verificationObj.Result__c}</td>
            </tr>
            <tr>
                <td class="tabledata"> Summary Remarks:</td>
                <td class="tabledata">{!verificationObj.Remarks__c}</td>
            </tr>
            <tr>
                <td class="tabledata"> Is Applicant/Co-Applicant Related/Known To Field Credit:</td>
                <td class="tabledata">{!verificationObj.Is_applicant_co_applicant_related_kn__c} </td>
            </tr>
            <tr>
                <td class="tabledata"> Is Applicant/Co-Applicant Related/Known To Any Five Star Employee:</td>
                <td class="tabledata">{!verificationObj.Is_applic_co_applic_related__c}</td>
            </tr>
            <tr>
                <td class="tabledata"> Declaration Remarks:</td>
                <td class="tabledata">{!verificationObj.Remarks_Declaration__c}</td>
            </tr>
        </table>
        <hr width="100%" style="height:4px;border:none;color:#333;background-color:#333;" />
        <br/>
        <apex:repeat value="{!imageList}" var="img" id="theRepeat10">
            <h5 style="text-align:center; ">
                File Name: {!img.Name}
            </h5>
            <center>

                <apex:image value="{!img.contentDownloadURL}" styleClass="img-size"> </apex:image>
            </center>
        </apex:repeat>
    </apex:form>
</apex:page>